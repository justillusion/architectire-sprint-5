# Мотивация:

Медленная загрузка страницы для операторов: Операторы MES жалуются на долгое время ожидания при просмотре списка заказов. Это снижает их эффективность и замедляет процесс производства.
Низкая скорость выполнения заказа для новых клиентов: Длительный расчёт стоимости и последующие операции приводят к тому, что пользователи считают систему «тормозящей» и неудобной.

Внедрение кэширования позволит:

- **Снизить нагрузку на базы данных**: Многие операции чтения (например, просмотр списка заказов или деталей заказа) можно отдавать из кеша, уменьшив количество запросов к БД.

- **Ускорить отображение данных**: За счёт быстрого доступа к уже подготовленным данным операторы смогут быстрее получать актуальную информацию о заказах.

- **Оптимизировать повторяющиеся запросы**: Кеширование часто запрашиваемых данных (список заказов, их статусы) снизит задержки и повысит отзывчивость интерфейса.

### Планируется включить в кеширование:

- Список заказов в определённых статусах, просматриваемых операторами.

- Метаданные о заказах, которые часто запрашиваются (например, их текущий статус, стоимость, ожидаемое время завершения).

### Предлагается использовать паттерн Cache-Aside

- Когда поступает запрос на чтение данных, сначала обращаемся к кешу. Если данных нет --(кеш-промах), идём в БД, получаем данные и кладём их в кеш.

- При изменении данных в БД кеш инвалидируется или обновляется.

- Логика работы остаётся гибкой: кеш не привязан жёстко к моменту записи (в отличие от Write-Through), и мы сами контролируем момент обновления кеша.

### Стратегия инвалидации кеша:

- Предлагается использовать инвалидацию по ключу (программную), совмещённую с TTL (временной).

- По ключу: Когда статус заказа меняется, система будет явно инвалидировать или обновлять соответствующий ключ в кеше. Это гарантирует, что кеш всегда соответствует актуальному состоянию.

- TTL (Time-To-Live): Для списков заказов можно установить TTL, чтобы в случае, если данные не обновляются часто, они автоматически становились «просроченными» и со временем обновлялись из БД. Это снизит риск «застревания» устаревших данных.


#### Диаграмма последовательностей в файле sequance доступна для просмотра в [app.diagrams.net](https://app.diagrams.net)